"use strict";function Attributer(){if(void 0!==Attributer.prototype.singleton)return Attributer.prototype.singleton;Attributer.prototype.singleton=this;var a=[],b=-1,c=!0;a[0]=function(a,c){return a.hasAttribute&&a.hasAttribute(c)&&a.getAttribute?(b=0,a.getAttribute(c)):a.getAttribute?(b=0,a.getAttribute(c)):""},a[1]=function(a,c){return a.getAttributeNode?(b=1,a.getAttributeNode(c)):""},a[2]=function(a,c){if("attributes"in a||a.attributes){if(!(c in a.attributes)&&a.attributes.length>0&&"nodeName"in a.attributes[0]){for(var d=0,e=a.attributes.length;d<e;d+=1)if(a.attributes[d].nodeName===c)return b=2,a.attributes[d].nodeName;return""}return c in a.attributes?(""===a.attributes[c]&&null===a.attributes[c]||(b=2),a.attributes[c]):""}return""},a[3]=function(a,c){return c in a?(b=3,a.n):""},this.get=function(d,e){if(void 0!==d&&isHTMLElement(d)){if(c&&b===-1){for(var f=0;b===-1&&f<a.length;){try{a[f](d,e)}catch(a){}f+=1}b===-1&&(c=!1)}return b!==-1&&c?a[b](d,e):void 0}};var d=[],e=-1,f=-1;d[0]=function(a,b,c){if(a.hasAttribute&&a.setAttribute){e=0;try{return a.setAttribute(b,c),(new Attributer).get(a,b)===c}catch(a){return!1}}},d[1]=function(a,b,c){if(a.setAttributeNode){e=1;try{return a.setAttributeNode(b,c),(new Attributer).get(a,b)===c}catch(a){return!1}}},d[2]=function(a,b,c){if("attributes"in a||a.attributes)if(!(b in a.attributes)&&a.attributes.length>0&&"nodeName"in a.attributes[0]){e=2;for(var d=!1,f=0,g=a.attributes.length;f<g;f+=1)if(a.attributes[f].nodeName===b){d=!0;try{return a.attributes[f].nodeValue=c,(new Attributer).get(a,b)===c}catch(a){return!1}}if(!d)try{return a.attributes.push({nodeName:b,nodeValue:c}),(new Attributer).get(a,b)===c}catch(a){return!1}}else try{return a.attributes[b]=c,(new Attributer).get(a,b)===c}catch(a){return!1}},this.set=function(a,b,c){if(void 0!==a&&isHTMLElement(a)){var g=!1,h="";try{h=(new Attributer).get(a,b)}catch(a){g=!0}if(!g){if(f&&e===-1){for(var i=0;e===-1&&i<d.length;){try{d[i](a,b,c)}catch(a){}i+=1}e===-1&&(f=!1)}if(e!==-1&&f)return d[e](a,b,c)}}};var g=!0,h=-1,i=[];i[0]=function(a,b){if(!a.hasAttribute||!a.removeAttribute)return!1;h=0;try{return a.removeAttribute(b),void 0===(new Attributer).get(a,b)}catch(a){return!1}},i[1]=function(a,b){if(!a.removeAttributeNode)return!1;h=1;try{return a.removeAttributeNode(b),void 0===(new Attributer).get(a,b)}catch(a){return!1}},i[2]=function(a,b){if(!("attributes"in a||a.attributes))return!1;if(e=2,!(b in a.attributes)&&a.attributes.length>0&&"nodeName"in a.attributes[0]){for(var c=!1,d=-1,f=!1,g=0,h=a.attributes.length;g<h;g+=1)if(a.attributes[g].nodeName===b){c=!0;try{a.attributes.splice(g,1),d=g,f=void 0===(new Attributer).get(a,b);break}catch(a){}}if(c&&!f&&d!==-1)return a.attributes[g]=null,void 0===(new Attributer).get(a,b);if(!c)return!1}else try{return a.attributes[b]=null,void 0===(new Attributer).get(a,b)}catch(a){return!1}},this.remove=function(a,b){if(void 0===a||!isHTMLElement(a))return!1;var c=!1,d="";try{d=(new Attributer).get(a,b)}catch(a){c=!0}if(!c&&""!==d){if(g&&h===-1){for(var e=0,f=!1;h===-1&&e<i.length;){try{f=i[e](a,b)}catch(a){}e+=1}return h===-1&&(g=!1),f}return!(h===-1||!g)&&i[h](a,b)}}}function getAttributer(a,b){return(new Attributer).get(a,b)}function removeAttributer(a,b){return(new Attributer).remove(a,b)}function setAttributer(a,b,c){return(new Attributer).set(a,b,c)}